double calc_pulsar_snr(const double *profile, int nbins);